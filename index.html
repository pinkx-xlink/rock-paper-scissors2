<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>✂️ My Lil' Rock Paper Scissors Project ✂️</title>
    <link rel="stylesheet" href = "style.css">
</head>
<body>
    <h1>✂️ Rock, Paper, SCISSORS! ✂️</h1>
    <!-- <button id="play">Play Game?</button> -->
    <!-- "onclick", game() removed but maybe add back later -->
    <div id="scoreBoard">SCOREBOARD
    </div>
    <div id="options">
        <div id="winner"></div>
    </div>
    <div id="turn">Turn: </div>
    
 
</body>

<script>
    //document.getElementById("play").addEventListener("click", playRound);
    
    const options = document.querySelector("#options");
    options.addEventListener("click", playRound);
    const turn = document.querySelector("#turn");


    const scoreBoard = document.querySelector("#scoreBoard");
    // scoreBoard.classList.add('div');
    // scoreBoard.setAttribute('id', 'scoreBoard');
    // scoreBoard.textContent = "SCOREBOAR";
    // scores.appendChild(scoreBoard);


    let playerScore = 0;
    displayPlayerScore = document.createElement('p');
    displayPlayerScore.classList.add('p');
    displayPlayerScore.textContent = `Player score: ${playerScore}`;
    scoreBoard.appendChild(displayPlayerScore);
    
    let computerScore = 0;
    displayComputerScore = document.createElement('p');
    displayComputerScore.classList.add('p');
    displayComputerScore.textContent = `Computer's score: ${computerScore}`;
    scoreBoard.appendChild(displayComputerScore);
    
    function win() {
        console.log("You win!");
        // const youWin = document.createElement('p');
        // youWin.classList.add('p');
        // youWin.textContent = "YOU WON! :D"
        // scoreBoard.appendChild(youWin);
        let newPlayerScore = (++playerScore);
        console.log(newPlayerScore);
        displayPlayerScore.textContent = `Player's score: ${newPlayerScore}`;
    }

    function lose() {
        console.log("you lose lol");
        // const youLost = document.createElement('p');
        // youLost.classList.add('p');
        // youLost.textContent = "YOU LOST! D:"
        // scoreBoard.appendChild(youLost);
        let newComputerScore = ( ++computerScore);
        console.log(newComputerScore);
        displayComputerScore.textContent = `Computer's score: ${newComputerScore}`;
    }

    const winner = document.querySelector("#winner");
    function displayWinner() {
        if (win()) {
            const winningText = document.createElement('p');
            winningText.classList.add('p');
            winningText.textContent = `You win!`;
            winner.appendChild(winningText);
        } else if (lose()) {
            const losingText = document.createElement('p');
            losingText.classList.add('p');
            losingText.textContent = `You LOST!`;
            winner.appendChild(losingText);
        };
    };
    
    const rock = document.createElement('button');
    rock.setAttribute('name', 'rock');
    rock.setAttribute('id', 'rock');
    rock.addEventListener("click", getPlayerSelection);
    rock.classList.add('button');
    rock.innerHTML = `<image src="/img/rock.png" height="55px"/>`;
    options.appendChild(rock);

    const paper = document.createElement('button');
    paper.setAttribute('name', 'paper');
    paper.addEventListener("click", getPlayerSelection);
    paper.classList.add('button');
    paper.innerHTML = `<image src="./img/paper.png" height="55px"/>`;
    options.appendChild(paper);

    const scissors = document.createElement('button');
    scissors.setAttribute('name', 'scissors');
    scissors.addEventListener("click", getPlayerSelection);
    scissors.classList.add('button');
    scissors.innerHTML = `<image src="./img/scissors.png" height="55px" />`;
    options.appendChild(scissors);  
    
    let playerSelection;
    function getPlayerSelection() {
        console.log(`Player chose ${this.name}`);
                // playerSelection = getPlayerSelection; does the same as playerSelection = this.id
        const playerChose = document.createElement('p');
        playerChose.classList.add('p');
        playerChose.textContent = `Player chose: ${this.name}`;
        turn.appendChild(playerChose);
        playerSelection = this.name;
        return playerSelection;
    }

    function playRound() {
        function getComputerChoice(array) {
            return array[Math.floor(Math.random() * array.length)];
            }
            const array = ["rock", "paper", "scissors"];
            const computerSelection = getComputerChoice(array);
            const computerChose = document.createElement('p');
            computerChose.classList.add('p');
            computerChose.textContent = `Computer chose: ${computerSelection}`;
            turn.appendChild(computerChose);
            console.log(`Computer chose ${computerSelection}`);
            //randomly choose 1
            //use return, not console.log

            if ((playerSelection) == "rock" && computerSelection == "scissors") {
                return win();
            } else if ((playerSelection) == "paper" && computerSelection == "rock") {
                return win();
            } else if ((playerSelection) == "scissors" && computerSelection == "paper") {
                return win();
            } else if ((playerSelection) == "scissors" && computerSelection == "rock") {
                return lose();
            } else if ((playerSelection) == "rock" && computerSelection == "paper") {
                return lose();
            } else if ((playerSelection) == "paper" && computerSelection == "scissors") {
                return lose();
            } else { console.log("TIE!");
            };
        };

    
    

    // function game() {
    //     playRound();
    //     //playRound();
    //     //playRound();
    //     //playRound();
    //    // playRound();
    //     console.log("Game Over!");
    //     if (computerScore >= 3) {
    //         console.log("Computer WINS!")
    //     } else if(playerScore >= 3) {
    //         console.log("Player WINS!")
    //     }
    //     console.log(`Player's score: ${playerScore}`);
    //     console.log(`Computer's score: ${computerScore}`);
    // }
    // game();
</script>
</html>